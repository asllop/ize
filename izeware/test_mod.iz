import (
    "izeware/mods/my_mod1.iz" as mod1,
    mods.my_mod2
)

model MyList List[String]
model MyModel Map[String, List[Metrics]]

// Allow types with chains like: mod1.MyEvent
transfer LogToEvent MyLog -> MyEvent (
    attributes: in.attr.Append("message", in.msg),
    eventType: in.type,
    timestamp: in.ts*1000
)

run pipe MyPipe (
    ReadHttpPost (
        url: ".....",
        body: "......"
    ),
    FromJson,
    Buffer (
        time: 30,
        size: 500,
        args: (
            one: 1,
            two: 2
        )
    ),
    AggrMyModel
)
